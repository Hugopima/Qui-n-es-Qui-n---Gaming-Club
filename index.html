<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Qui√©n es Qui√©n - Multitablero</title>
    <style>
        body { background: #1a1a1a; color: white; font-family: sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; }
        
        /* Barra de control fija arriba */
        .bar { 
            background: #000; width: 100%; padding: 15px; text-align: center; 
            border-bottom: 2px solid #00ffcc; position: sticky; top: 0; z-index: 100;
            display: flex; justify-content: center; align-items: center; gap: 20px;
        }

        .controls { display: flex; align-items: center; gap: 10px; }
        select, button { 
            padding: 8px 12px; background: #222; color: #fff; 
            border: 1px solid #00ffcc; border-radius: 5px; cursor: pointer; 
        }

        /* Contenedor de tableros */
        #multi-container { display: flex; flex-direction: column; align-items: center; padding-top: 20px; }

        .board-instance { margin-bottom: 50px; text-align: center; }
        .board-title { color: #00ffcc; font-size: 24px; margin-bottom: 10px; text-transform: uppercase; font-weight: bold; }

        .board-wrapper {
            position: relative;
            width: 968px; 
            height: 543px;
            background-image: url('tablero.jpg'); 
            background-size: 100% 100%;
            outline: 4px solid #333;
        }

        .cell {
            position: absolute;
            cursor: pointer;
            border-radius: 12px;
            width: 75px;
            height: 75px; 
            box-sizing: border-box;
            z-index: 10;
        }

        .cell.off { background: rgba(0, 0, 0, 0.97); border: 2px solid #ff0000; }

        .secret-btn {
            margin-top: 10px;
            background: #333;
            padding: 10px 20px;
            display: inline-block;
            border-radius: 5px;
            cursor: pointer;
            border: 1px dashed #00ffcc;
        }
    </style>
</head>
<body>

    <div class="bar">
        <div class="controls">
            <span>RIVALES:</span>
            <select id="rival-count" onchange="initGame()">
                <option value="1">1 Rival</option>
                <option value="2">2 Rivales</option>
                <option value="3">3 Rivales</option>
                <option value="4">4 Rivales</option>
                <option value="5">5 Rivales</option>
            </select>
        </div>
        <button onclick="initGame()">üé≤ MEZCLAR TODO</button>
    </div>

    <div id="multi-container"></div>

    <script>
        const names = ["Hugo", "Alejandro", "Alberto", "Manuel", "Andrea", "Carlos Manuel", "Carlos Morilla", "Lucas", "Sergio", "Cristian", "Ana Bel√©n", "Nyx", "INFINITYCRAFT", "SrNugget", "Gaming Club Clips", "Skibidi Toilet", "Don Pollo", "Fideos", "Adivina el Animatr√≥nico", "Emotes Diarios", "Portal Nether", "Desafios del Club", "Mes del Aprecio", "Squid Game", "TriatlonINT", "Level UP", "Caz√≥n (GCS3)", "UwU (GCS3)", "Podrido (GCS3)", "Xiao (MegaDeath)", "Caballos Explosivos", "BOPL", "Gallina (UCH)", "Semibot", "Tripulante", "Bonnie", "Janet", "Piper", "Shelly", "Bea"];

        // Medidas exactas que clavamos antes
        const startX = 48;
        const startY = 64;
        const cellW = 75;
        const cellH = 75;
        const hGap = 13;
        const rowPositionsY = [
            startY,
            startY + cellH + 39,
            startY + (cellH + 39) * 2,
            startY + (cellH + 39) * 2 + (cellH + 32)
        ];

        function initGame() {
            const container = document.getElementById('multi-container');
            const count = document.getElementById('rival-count').value;
            container.innerHTML = ""; // Limpiar todo

            for (let i = 1; i <= count; i++) {
                createBoard(i);
            }
        }

        function createBoard(index) {
            const mainContainer = document.getElementById('multi-container');
            
            // Crear el envoltorio del tablero
            const boardInstance = document.createElement('div');
            boardInstance.className = 'board-instance';

            // T√≠tulo y Personaje Secreto
            const secretChar = names[Math.floor(Math.random() * names.length)];
            boardInstance.innerHTML = `
                <div class="board-title">Rival ${index}</div>
                <div class="secret-btn" onclick="alert('Personaje Rival ${index}: ${secretChar}')">¬øVer secreto?</div>
                <div class="board-wrapper" id="wrapper-${index}"></div>
            `;

            mainContainer.appendChild(boardInstance);
            const wrapper = document.getElementById(`wrapper-${index}`);

            // Generar las 40 celdas con tu l√≥gica de gaps
            for (let r = 0; r < 4; r++) {
                for (let c = 0; c < 10; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.style.left = (startX + (c * (cellW + hGap))) + "px";
                    cell.style.top = rowPositionsY[r] + "px";
                    
                    cell.onclick = () => cell.classList.toggle('off');
                    wrapper.appendChild(cell);
                }
            }
        }

        // Arrancar con 1 por defecto
        window.onload = initGame;
    </script>
</body>
</html>
